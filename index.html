<!doctype html>
<html lang="" xmlns:v-bind="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml"
      xmlns:v-touch="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=640, user-scalable=no, target-densitydpi=device-dpi">
    <title>mail msg</title>

    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <!-- Place favicon.ico in the root directory -->

    <!-- build:css styles/vendor.css -->
    <!-- bower:css -->
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:css styles/main.css -->
    <link rel="stylesheet" href="styles/reset.css">
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->
    
  </head>
  <body>
    <!--[if lt IE 10]>
      <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    
    <div id="mail-App">
        <header class="head fixed">
          <div class="inform left">
            <span v-if="show" class="head-icon icon-envelope-alt">
              <div v-show="unreadNum > 0" class="circle top-mark">{{unreadNum}}</div>
            </span>
            <a v-else href="javascript:;" v-on:click="onBack">
              <span class="head-icon icon-chevron-left"></span>
            </a>

          </div>
          <h1 class="head-icon">Han-Mail</h1>
          <div class="inform right spacing">
            <button class="btn" type="button"><span class="head-icon icon-reorder"></span></button>
            <ul class="dropdown hidden">
              <div class="top"></div>
              <li><a href="javascript:;">发送邮件</a></li>
              <li><a href="javascript:;">全部已读</a></li>
              <li><a href="javascript:;">添加好友</a></li>
            </ul>

          </div>
        </header>
      <div class="container">
        <section>
          <div class="container-item" v-for="item in AllItem" v-on:click="onSwipeLeft($event,item,$index)" id="email_item_{{$index}}">
            <div class="userface left">
              <img v-bind:src="item.imgurl" alt="">
            </div>
            <div class="main-item">
              <div class="mask {{item.color}}"></div>
              <div class="user"><h2>{{item.username}}</h2>
                <span v-if="item.readStatus" class="dot circle"></span>
                <span v-else class="dot read-color circle"></span>
              </div>
              <div class="caption"><h3>{{item.title}}</h3></div>
               <div class="content"><p>{{item.content[item.content.length-1].mailcontent}}</p></div>
            </div>
          </div>
        </section>
        <div class="mail-item hidden">
          <div class="mail-head">
            <div class="mail-top {{email.color}}">
            </div>
            <div class="user-pic left">
              <img class="circle" v-bind:src="email.imgurl" alt="">
            </div>
            <div class="mail-center left">
              <h2>{{email.username}}</h2>
              <h3>{{email.title}}</h3>
            </div>
            <div class="mail-right right">
              <a href="javascript:;" v-on:click="getUp"><span class="icon-angle-up"></span></a>
              <a href="javascript:;" v-on:click="getDown"><span class="icon-angle-down"></span></a>
            </div>
          </div>
          <h3 class="theme">
            #{{email.title}}#
          </h3>
          <div class="mail-content">
            <div v-for="content in email.content">
            <p v-if="content.reply == 'sb'" class="self">{{content.mailcontent}}<span class="time">{{content.time}}</span></p>
            <p v-else class="other">{{content.mailcontent}}<span class="time">{{content.time}}</span></p>
            </div>
            <!--
            <p class="other">{{email.content}}<span class="time">昨天下午3点</span></p>
            <p class="self">好的!<span class="time">昨天下午3点50</span></p>
              <p class="other">那我们去街角那家咖啡店<span class="time">昨天下午3点</span></p>
              <p class="self">可以呀,时间是?<span class="time">昨天下午3点50</span></p>
              <p class="other">下午5点吧<span class="time">昨天下午3点</span></p>
              -->

            </div>
          <div class="mail-reply">
            <h3>立即回复</h3>
            <textarea class="mail-text" maxlength="200" name="reply" v-model="message"></textarea>
            <button class="reply-btn cancel" type="button" v-on:click="cancelSend">取消</button>
            <button class="reply-btn send" type="button" v-on:click="sendMail($event,email)">发送</button>
          </div>

        </div>
      </div>

    </div>


    <!-- build:js scripts/vendor.js -->
    <!-- bower:js -->
    <script src="/bower_components/jquery/dist/jquery.js"></script>
    <!-- endbower -->
    <!-- endbuild -->
    
    <!-- build:js scripts/main.js -->

    <script src="scripts/jquery.min.js"></script>
    <script src="scripts/vue.js"></script>
    <script src="scripts/vue-touch/Hammer.js"></script>
    <script src="scripts/vue-touch/vue-touch.min.js"></script>
    <script src="scripts/main.js"></script>

    <!-- endbuild -->
  </body>
</html>
